<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>KUMO RECRUITER - ì§€ì›ì ì •ë³´</title>
    <script th:src="@{/js/recruiter/main.js}"></script>
    <script th:src="@{/js/recruiter/recruiterHeader.js}"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" th:href="@{/css/recruiter/recruiterHeader.css}" />
    <link
      rel="stylesheet"
      th:href="@{/css/NonLoginFragments/NonLoginFooter.css}"
    />
    <link rel="stylesheet" th:href="@{/css/recruiter/sidebar.css}" />
    <link rel="stylesheet" th:href="@{/css/recruiter/rightSidebar.css}" />
    <link rel="stylesheet" th:href="@{/css/recruiter/main.css}" />
    <link rel="stylesheet" th:href="@{/css/recruiter/applicantInfo.css}" />
    <link rel="stylesheet" th:href="@{/css/recruiter/calendar.css}" />
    <link rel="stylesheet" th:href="@{/css/recruiter/dark-theme.css}" />
    <script th:src="@{/js/recruiter/rightSidebar.js}"></script>
  </head>
  <body>
    <header
      th:replace="~{recruiterView/fragments/recruiterHeader :: headerFragment}"
    ></header>

    <div class="dashboard-wrapper">
      <div
        th:replace="~{recruiterView/fragments/sidebar :: sidebarFragment}"
      ></div>

      <div class="main-container">
        <main class="content-body">
          <div class="applicant-card">
            <div class="card-header-flex">
              <div class="header-title-area">
                <h2 class="table-title" th:text="#{app.info.title}">
                  ì§€ì›ì ì •ë³´
                </h2>
                  <span class="count-badge">20</span>

                  <!--  <span class="count-badge" th:text="${applicantList.size()}">0</span> -->
              </div>
              <button class="btn-filter">
                <i class="bi bi-funnel"></i>
                <span th:text="#{app.info.btn.filter}">í•„í„°</span>
              </button>
            </div>

            <div class="table-responsive">
              <table class="kumo-table">
                <thead>
                  <tr>
                    <th>
                      <input type="checkbox" class="kumo-check" id="checkAll" />
                    </th>
                    <th>
                      <span th:text="#{app.info.table.name}">ì§€ì›ì ì´ë¦„</span>
                      <i class="bi bi-arrow-down-up sort-icon"></i>
                    </th>
                    <th th:utext="#{app.info.table.age}">
                      ë‚˜ì´<i class="bi bi-arrow-down-up sort-icon"></i>
                    </th>
                    <th th:utext="#{app.info.table.gender}">
                      ì„±ë³„<i class="bi bi-arrow-down-up sort-icon"></i>
                    </th>
                    <th>
                      <span th:text="#{app.info.table.job}">ì§€ì› ê³µê³ </span>
                      <i class="bi bi-arrow-down-up sort-icon"></i>
                    </th>
                    <th>
                      <span th:text="#{app.info.table.date}">ì§€ì› ì¼ì</span>
                      <i class="bi bi-arrow-down-up sort-icon"></i>
                    </th>
                    <th></th>
                  </tr>
                <!--
                </thead>
                  <tbody>
                  <tr th:each="app : ${applicantList}">
                      <td>
                          <input
                                  type="checkbox"
                                  class="kumo-check"
                                  name="applicantCheck"
                                  th:value="${app.appId}"
                          />
                      </td>
                      <td>
                          <div class="user-profile">
                              <span class="avatar-sm bg-peach">ğŸ˜Š</span>
                              <span class="user-name" th:text="${app.seekerName}">í™ê¸¸ë™</span>
                          </div>
                      </td>

                      <td th:text="${app.seekerAge != null ? app.seekerAge : '-'}">40</td>
                      <td th:text="${app.seekerGender != null ? app.seekerGender : '-'}">ì—¬ì</td>

                      <td th:text="${app.jobTitle}">ì˜¤ì‚¬ì¹´ í•œì‹ë‹¹ í™€ì„œë¹™ êµ¬í•´ìš”</td>

                      <td th:text="${app.appliedAt}">2022-03-01</td>

                      <td>
                          <a th:href="@{/Recruiter/ApplicantDetail(appId=${app.appId})}">
                              <button class="btn-view" th:text="#{main.status.viewed}">
                                  ì—´ëŒ
                              </button>
                          </a>
                      </td>
                  </tr>

                  <tr th:if="${#lists.isEmpty(applicantList)}">
                      <td colspan="7" style="text-align: center; padding: 30px;">
                          ì•„ì§ ì§€ì›ìê°€ ì—†ìŠµë‹ˆë‹¤.
                      </td>
                  </tr>
                  </tbody>
                  -->
              </table>
            </div>
          </div>

          <footer
            th:replace="~{NonLoginFragments/NonLoginFooter :: footerFragment}"
          ></footer>
        </main>

        <div
          th:replace="~{recruiterView/fragments/rightSidebar :: rightSidebarFragment}"
        ></div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
          const checkAll = document.getElementById('checkAll');
          const checkboxes = document.getElementsByName('applicantCheck');

          checkAll.addEventListener('change', function() {
              checkboxes.forEach((checkbox) => {
                  checkbox.checked = checkAll.checked;
              });
          });

          checkboxes.forEach((checkbox) => {
              checkbox.addEventListener('change', function() {
                  const checkedCount = document.querySelectorAll('input[name="applicantCheck"]:checked').length;
                  checkAll.checked = (checkedCount === checkboxes.length);
              });
          });
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/6.1.10/index.global.min.js"></script>
    <script th:src="@{/js/recruiter/global-calendar.js}"></script>
  </body>
</html>

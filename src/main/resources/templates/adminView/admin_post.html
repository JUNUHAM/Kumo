<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>KUMO Admin - Post</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/adminView/admin_post.css}">
</head>
<body>

<aside class="sidebar">
    <div class="logo-text">KUMO</div>
    <ul class="nav-menu">
        <a href="/admin/dashboard" class="nav-item">
            <span class="nav-icon">ğŸ </span> DashBoard
        </a>
        <li class="nav-item">
            <span class="nav-icon">ğŸ‘¥</span> Users
        </li>
        <a href="/admin/post" class="nav-item active">
            <span class="nav-icon">ğŸ“„</span> Post
        </a>
        <li class="nav-item">
            <span class="nav-icon">ğŸ•¸ï¸</span> DataOps
        </li>
        <li class="nav-item">
            <span class="nav-icon">âš™ï¸</span> Setting
        </li>
    </ul>
</aside>

<main class="main-content">
    <div class="top-controls">
        <div class="search-box">
            <span class="search-icon">ğŸ”</span>
            <input type="text" class="search-input" placeholder="Search">
        </div>
        <select class="filter-select"><option>ì§€ì—­ëª…</option></select>
        <select class="filter-select"><option>Status</option></select>
    </div>

    <div class="tab-menu">
        <div id="tab-btn-all" class="tab-item active" onclick="switchTab('all')">ì „ì²´ ê³µê³ </div>
        <div id="tab-btn-report" class="tab-item" onclick="switchTab('report')">ì‹ ê³  / ì°¨ë‹¨</div>
    </div>

    <div class="action-buttons">
        <button class="btn btn-dark">âœ… ì„ íƒ í•­ëª© CSV ë‹¤ìš´ë¡œë“œ</button>
        <button class="btn btn-dark">ğŸ—‘ï¸ ì‚­ì œ</button>
    </div>

    <div id="tab-content-all" class="tab-content active">
        <div class="table-container">
            <table class="custom-table">
                <thead>
                <tr>
                    <th class="col-check"><input type="checkbox"></th>
                    <th class="col-title">ê³µê³  ì •ë³´</th>
                    <th>ì¹´í…Œê³ ë¦¬</th>
                    <th>ë“±ë¡ ì¼</th>
                    <th>ë§ˆê° ì¼</th>
                    <th>ìƒíƒœ</th>
                    <th>ê´€ë¦¬</th>
                </tr>
                </thead>
                <tbody>
                <tr th:if="${#lists.isEmpty(posts)}"><td colspan="7">ë“±ë¡ëœ ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤.</td></tr>

                <tr th:each="post : ${posts}">
                    <td><input type="checkbox"></td>
                    <td class="col-title" th:text="${post.title}">ì œëª©</td>
                    <td th:text="${post.position}">ì§ë¬´</td>
                    <td th:text="${#temporals.format(post.createdAt, 'yyyy.MM.dd')}">ë‚ ì§œ</td>
                    <td th:text="${post.deadline}">ë§ˆê°ì¼</td>
                    <td>
                                <span class="badge"
                                      th:classappend="${post.status == 'RECRUITING' ? 'badge-green' : 'badge-grey'}"
                                      th:text="${post.status == 'RECRUITING' ? 'ìŠ¹ì¸ë¨' : 'ë§ˆê°'}">ìƒíƒœ</span>
                    </td>
                    <td>
                        <span style="cursor:pointer; margin-right:10px;">ìˆ˜ì •</span>
                        <span style="cursor:pointer; color:#fa5252;">ì‚­ì œ</span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div id="tab-content-report" class="tab-content">
        <div class="table-container">
            <table class="custom-table">
                <thead>
                <tr>
                    <th class="col-check"><input type="checkbox"></th>
                    <th class="col-title">ê³µê³  ì¶œì²˜/ID</th> <th>ì‹ ê³  ì‚¬ìœ </th>
                    <th>ë“±ë¡ ì¼</th>
                    <th>ìƒíƒœ</th>
                    <th>ê´€ë¦¬</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="report : ${reports}">
                    <td><input type="checkbox"></td>
                    <td class="col-title">
                        <span th:text="'[' + ${report.targetSource} + '] ID: ' + ${report.targetPostId}"></span>
                    </td>
                    <td th:text="${report.reasonCategory}">ì‚¬ìœ </td>
                    <td th:text="${#temporals.format(report.createdAt, 'yyyy.MM.dd')}">ë‚ ì§œ</td>
                    <td><span class="badge badge-green" th:text="${report.status}">PENDING</span></td>
                    <td>
                        <button class="btn-detail" th:onclick="alert([[${report.description}]])">ë‚´ìš© í™•ì¸</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</main>

<script>
    function switchTab(tabName) {
        // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
        document.querySelectorAll('.tab-item').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));

        // ì„ íƒëœ íƒ­ í™œì„±í™”
        document.getElementById('tab-btn-' + tabName).classList.add('active');
        document.getElementById('tab-content-' + tabName).classList.add('active');
    }
</script>
</body>
</html>
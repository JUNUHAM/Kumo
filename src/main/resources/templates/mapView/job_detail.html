<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" /> <title th:text="${job.title}">상세 정보</title>
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/NonLoginFooter.css}">
    <link rel="stylesheet" th:href="@{/css/job_detail.css}">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet" />
</head>
<body>

<header th:replace="~{header.html}"></header>

<div class="container">
    <div class="header-section">
        <h1 class="job-title" th:text="${job.title}">구인 제목</h1>
        <div class="job-meta">
            <span th:text="${job.address}">주소</span>
            <span>•</span>
            <span>ID: <span th:text="${job.id}">0</span></span>
        </div>
    </div>

    <div class="info-grid">
        <div class="info-item">
            <span class="info-label">회사 이름</span>
            <span class="info-value" th:text="${job.companyName}">-</span>
        </div>

        <div class="info-item text-right">
            <span class="info-label">업무</span>
            <span class="info-value" th:text="${job.position ?: '-'}">-</span>
        </div>

        <div class="info-item">
            <span class="info-label">급여</span>
            <span class="info-value" th:text="${job.wage}">-</span>
        </div>

        <div class="info-item text-right">
            <span class="info-label">업무 상세</span>
            <span class="info-value" th:text="${job.jobDescription ?: '-'}">-</span>
        </div>

        <div class="info-item">
            <span class="info-label">연락처</span>
            <span class="info-value" th:text="${job.contactPhone}">-</span>
        </div>
        <div class="info-item text-right">
            <span class="info-label">회사 주소</span>
            <span class="info-value" th:text="${job.address}">-</span>
        </div>
    </div>

    <div class="map-section" th:if="${job.lat != null}">
        <iframe
                width="100%"
                height="100%"
                frameborder="0" style="border:0"
                th:src="'https://maps.google.com/maps?q=' + ${job.lat} + ',' + ${job.lng} + '&z=15&output=embed'"
                allowfullscreen="true">
        </iframe>
    </div>
    <div class="map-section" th:unless="${job.lat != null}" style="display:flex; align-items:center; justify-content:center; color:#999;">
        지도 정보가 없는 공고입니다.
    </div>

    <div class="description-section">
        <h3 class="section-title">상세정보</h3>
        <div class="description-text" th:text="${job.body}">
            내용이 없습니다.
        </div>
    </div>

    <div class="image-gallery" th:if="${job.imgUrls != null}">
        <th:block th:each="img : ${#strings.arraySplit(job.imgUrls, ',')}">
            <img th:src="${img}" class="gallery-img" alt="상세 이미지" />
        </th:block>
    </div>
</div>

<footer th:replace="~{NonLoginFooter.html}"></footer>
</body>
</html>